(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[3],{299:function(t,e,s){t.exports={profileInfo:"profileInfo_profileInfo__35itp",descriptionBlock:"profileInfo_descriptionBlock__3kZOE",status:"profileInfo_status__yR8Bo"}},302:function(t,e,s){t.exports={header:"profile_header__3I3Qt",content:"profile_content__3G8KZ"}},303:function(t,e,s){t.exports={postsBlock:"myPosts_postsBlock__3CABP",postsList:"myPosts_postsList__2EXqT"}},304:function(t,e,s){t.exports={item:"post_item__2Gqf7",postMessage:"post_postMessage__3xUu-",likeCount:"post_likeCount__WOU1B"}},305:function(t,e,s){"use strict";s.r(e);var o=s(4),a=s(0),n=s(34),c=s(35),i=s(38),r=s(37),u=s(1),l=s.n(u),p=s(13),d=s(302),j=s.n(d),b=s(303),f=s.n(b),h=s(304),O=s.n(h),m=function(t){var e=t.message,s=t.likeCount,o=t.deletePost,n=t.id;return Object(a.jsxs)("div",{className:O.a.item,children:[Object(a.jsx)("button",{onClick:function(){o(n)},children:"del"}),Object(a.jsx)("img",{src:"https://sdelaicomp.ru/wp-content/uploads/2019/06/AnimeNaAvuVVK_dev_.jpg",alt:""}),Object(a.jsx)("span",{className:"".concat(O.a.postMessage),children:"".concat(e)}),Object(a.jsxs)("span",{className:"".concat(O.a.likeCount),children:["like: ","".concat(s)]})]})},x=s(129),_=s(130),v=s(75),P=s(76),g=P.a.required,k=(0,P.a.maxLenghtCreator)(10),S=Object(_.a)({form:"newPostPostForm"})((function(t){return Object(a.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(a.jsx)("div",{children:Object(a.jsx)(x.a,{name:"newPostText",component:v.b,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442",autoComplete:"postText",validate:[g,k]})}),Object(a.jsx)("button",{type:"submit",className:"btn btn-success",children:"Add post"})]})})),N=l.a.memo((function(t){var e=t.addPost,s=t.posts,o=t.deletePost,n=s.map((function(t){return Object(a.jsx)(m,{id:t.id,message:t.message,likeCount:t.likeCount,deletePost:o},t.id)}));return Object(a.jsxs)("div",{className:"".concat(f.a.postsBlock),children:[Object(a.jsx)("h3",{children:"My Posts"}),Object(a.jsx)(S,{onSubmit:function(t){e(t.newPostText)}}),Object(a.jsx)("div",{className:"".concat(f.a.postsList),children:n})]})})),C=s(98),I=Object(p.b)((function(t){var e=t.profilePage;return{posts:e.posts,newPostText:e.newPostText}}),(function(t){return{addPost:function(e){t(Object(C.a)(e))}}}))(N),B=s(40),y=s(299),w=s.n(y),U=s(67),A=s(131),M=function(t){var e=Object(u.useState)(!1),s=Object(A.a)(e,2),o=s[0],n=s[1],c=Object(u.useState)(t.status),i=Object(A.a)(c,2),r=i[0],l=i[1];Object(u.useEffect)((function(){l(t.status)}),[t.status]);return Object(a.jsxs)(a.Fragment,{children:[!o&&Object(a.jsx)("div",{children:Object(a.jsx)("span",{onDoubleClick:function(){n(!0)},className:w.a.status,children:t.status||"---"})}),o&&Object(a.jsx)("div",{children:Object(a.jsx)("input",{autoFocus:!0,onBlur:function(){n(!1),t.updateStatus(r)},value:r,onChange:function(t){l(t.target.value)}})})]})},T=function(t){var e=t.profile,s=t.status,o=t.updateStatus;return e?Object(a.jsx)("div",{className:"".concat(w.a.profileInfo),children:Object(a.jsxs)("div",{className:"".concat(w.a.descriptionBlock),children:[Object(a.jsx)("h4",{children:e.fullName}),Object(a.jsx)("img",{src:e.photos.large?e.photos.large:U.a,alt:"profilePhoto"}),Object(a.jsx)(M,{status:s,updateStatus:o}),Object(a.jsx)("p",{children:e.aboutMe})]})}):Object(a.jsx)(B.a,{})},z=function(t){return Object(a.jsxs)("main",{className:j.a.profile,children:[Object(a.jsx)("div",{className:"".concat(j.a.header),children:Object(a.jsx)(T,{profile:t.profile,status:t.status,updateStatus:t.updateStatus})}),Object(a.jsx)("div",{className:"".concat(j.a.content),children:Object(a.jsx)(I,{deletePost:t.deletePost})})]})},L=s(11),q=s(9),E=function(t){Object(i.a)(s,t);var e=Object(r.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var t=this.props,e=t.getUserProfile,s=t.getUserStatus,o=this.props.match.params.userId;o||(o=this.props.authorizedUserId)||this.props.history.push("/login"),e(o),s(o)}},{key:"render",value:function(){return Object(a.jsx)(z,Object(o.a)(Object(o.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),s}(l.a.Component),F=Object(q.d)(Object(p.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{deletePost:C.c,getUserProfile:C.d,getUserStatus:C.e,updateStatus:C.f}),L.f)(E);e.default=F}}]);
//# sourceMappingURL=3.9728676e.chunk.js.map